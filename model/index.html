
<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://gistcdn.githack.com/divamgupta/28af2346b0d78132a08537dd8aa0c97b/raw/f3e11408e7ae4c2d7eecb7fd43608bb2289dadae/distilbert_tokenise.js"></script>
  </head>
  <body>
    Make sure to run this via a server
    <br>
    <textarea id='text'>Amro | Atari | Management | Oil and Gas | amro.atari@atlascopco.com | 0521047129 | Dubai, United Arab Emirates | 4 months | 16 bar | 35,000 - 40,000 | looking to rent two steam boilers with capacity of 35,000 - 40,000 lbs for project in Dubai by September, 2023. please feel free to call me to discuss in more details.</textarea>
    <br>  <br>
    <button   onclick="predict()">predict</button>
    <br>
    <p id="result"> </p>
    <script>
      async function predict() {
        var  model = await tf.loadGraphModel('./model.json');
        let classes = [  "Good" ,  "Bad" ,  ] ;
        var data = tokenize(document.getElementById("text").value , 32 );
        let prediction =  model.execute( tf.tensor([new Int32Array(data['input_ids'])]) )
        let class_scores  = await prediction.data();
        let max_score_id =  class_scores.indexOf(Math.max(...class_scores));
        console.log(class_scores);
        document.getElementById("result").innerHTML = classes[max_score_id].toString();
      }
    </script>
  </body>
</html>